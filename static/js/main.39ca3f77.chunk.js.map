{"version":3,"sources":["redux/dialogs-reducer.js","components/common/Preloader/Preloader.module.css","api/api.js","components/Navbar/Navbar.module.css","components/Navbar/Navbar.js","utilities/object-helpers.js","redux/users-reducer.js","assets/img/userImage.png","components/common/Paginator/Paginator.js","components/Users/Users.js","redux/users-selectors.js","components/Users/UsersContainer.js","components/Header/Header.js","redux/auth-reducer.js","components/Header/HeaderContainer.js","components/LoginPage/LoginPage.js","redux/app-reducer.js","redux/sidebar-reducer.js","redux/store.js","hoc/withSuspense.js","App.js","index.js","components/common/FormsControls/FormsControls.module.css","assets/img/UsersPagePreloader.svg","components/common/Preloader/Preloader.js","components/common/FormsControls/FormsControls.js","utilities/validators/validators.js","components/common/Paginator/Paginator.module.css","components/Header/Header.module.css","components/Users/Users.module.css","redux/profile-reducer.js"],"names":["SEND_MESSAGE","initialState","dialogs","id","name","messages","message","sendMessageTextCreator","newMessageBody","type","dialogsReducer","state","action","body","module","exports","instance","axios","create","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","unfollow","userId","delete","follow","post","getProfile","console","warn","profileAPI","getStatus","updateStatus","status","put","authAPI","me","login","email","password","rememberMe","logout","Navbar","className","s","nav","item","to","activeClassName","active","updateArrayObject","items","itemId","objPropName","newObjProps","map","u","FOLLOW","UNFOLLOW","SET_USERS","SET_CURRENT_PAGE","SET_TOTAL_USERS_COUNT","TOGGLE_IS_FETCHING","TOGGLE_IS_FOLLOWING_PROGRESS","users","totalUsersCount","isFetching","followingInProgress","followSuccess","unfollowSuccess","setCurrentPage","toggleIsFetching","toggleFollowingProgress","followUnfollowFlow","dispatch","apiMethod","actionCreator","a","data","resultCode","usersReducer","followed","count","filter","Paginator","totalItemsCount","onPageChanged","portionSize","pagesCount","Math","ceil","pages","i","push","portionCount","useState","portionNumber","setPortionNumber","leftPortionPageNumber","rightPortionPageNumber","paginator","onClick","p","cn","selectedPage","pageNumber","Users","props","usersPage","src","photos","small","userImage","alt","avatar","disabled","some","createSelector","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getFollowingInProgress","UsersContainer","requestUsers","this","Preloader","React","Component","compose","connect","page","response","totalCount","bind","Header","header","headerInfo","loginBlock","isAuth","SET_USER_DATA","setAuthUserData","payload","getAuthUserData","authReducer","HeaderContainer","auth","maxLength25","maxLengthCreator","LoginReduxForm","reduxForm","form","handleSubmit","error","onSubmit","Field","placeholder","component","Input","validate","required","formSummaryError","length","stopSubmit","_error","formData","INITIALIZED_SUCCESS","initialized","appReducer","sidebarReducer","reducers","combineReducers","profilePage","profileReducer","dialogsPage","sidebar","app","formReducer","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","store","createStore","applyMiddleware","thunkMiddleware","__store__","withSuspense","fallback","DialogsContainer","lazy","ProfileContainer","App","initializeApp","path","render","AppContainer","withRouter","promise","Promise","all","then","SamuraiJSApp","ReactDOM","document","getElementById","loader","preloader","Textarea","input","meta","hasError","touched","formControl","value","maxLength","ADD_POST","SET_USER_PROFILE","SET_STATUS","DELETE_POST","posts","likesCount","profile","addPost","newPostElement","setStatus","getUserProfile","newPost","postId"],"mappings":"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","file":"static/js/main.39ca3f77.chunk.js","sourcesContent":["const SEND_MESSAGE = 'SEND-MESSAGE'\r\n\r\nlet initialState = {\r\n    dialogs: [\r\n        {id: 1, name: 'Yan'},\r\n        {id: 2, name: 'Vasya'},\r\n        {id: 3, name: 'Petya'},\r\n        {id: 4, name: 'Nastya'},\r\n        {id: 5, name: 'Sasha'},\r\n        {id: 6, name: 'Kostya'}\r\n    ],\r\n    messages: [\r\n        {id: 1, message: 'Hi'},\r\n        {id: 2, message: 'Yo'},\r\n        {id: 3, message: 'Kek'}\r\n    ]\r\n}\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case SEND_MESSAGE: {\r\n            let body = action.newMessageBody\r\n            return {\r\n                ...state,\r\n                messages: [...state.messages, {id: 4, message: body}]\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const sendMessageTextCreator = (newMessageBody) => ({type: SEND_MESSAGE, newMessageBody})\r\n\r\nexport default dialogsReducer","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3uwUy\"};","import axios from \"axios\";\r\n\r\nconst instance = axios.create({\r\n    baseURL: 'https://social-network.samuraijs.com/api/1.0/',\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"52f26c0e-0067-4a85-af08-da7dcbf1f770\"\r\n    }\r\n})\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage = 1, pageSize = 10) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize}`)\r\n    },\r\n    unfollow(userId) {\r\n        return instance.delete(`follow/${userId}`)\r\n    },\r\n    follow(userId) {\r\n        return instance.post(`follow/${userId}`)\r\n    },\r\n    getProfile(userId) {\r\n        console.warn('Obsolete method. Please, use profileAPI object')\r\n        return profileAPI.getProfile(userId)\r\n    }\r\n}\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/` + userId)\r\n    },\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/` + userId)\r\n    },\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {\r\n            status: status\r\n        })\r\n    }\r\n}\r\n\r\nexport const authAPI = {\r\n    me() {\r\n        return instance.get(`auth/me`)\r\n    },\r\n    login(email, password, rememberMe = false) {\r\n        return instance.post(`auth/login`, { email, password, rememberMe })\r\n    },\r\n    logout() {\r\n        return instance.delete(`auth/login`)\r\n    }\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Navbar_nav__21O6x\",\"item\":\"Navbar_item__geNmr\",\"active\":\"Navbar_active__16IXv\"};","import React from \"react\";\r\nimport s from './Navbar.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Navbar = () => {\r\n    return (\r\n        <nav className={s.nav}>\r\n            <div className={s.item}>\r\n                <NavLink to={'/profile'} activeClassName={s.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/dialogs'} activeClassName={s.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/users'} activeClassName={s.active}>Users</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/news'} activeClassName={s.active}>News</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/music'} activeClassName={s.active}>Music</NavLink>\r\n            </div>\r\n            <div className={s.item}>\r\n                <NavLink to={'/settings'} activeClassName={s.active}>Settings</NavLink>\r\n            </div>\r\n        </nav>\r\n    )\r\n}\r\n\r\nexport default Navbar;","export const updateArrayObject = (items, itemId, objPropName, newObjProps) => {\r\n    return items.map(u => {\r\n        if (u[objPropName] === itemId) {\r\n            return {...u, ...newObjProps}\r\n        }\r\n        return u\r\n    })\r\n}","import {usersAPI} from \"../api/api\";\nimport {updateArrayObject} from \"../utilities/object-helpers\";\n\nconst FOLLOW = 'FOLLOW'\nconst UNFOLLOW = 'UNFOLLOW'\nconst SET_USERS = 'SET_USERS'\nconst SET_CURRENT_PAGE = 'SET_CURRENT_PAGE'\nconst SET_TOTAL_USERS_COUNT = 'SET_TOTAL_USERS_COUNT'\nconst TOGGLE_IS_FETCHING = 'TOGGLE_IS_FETCHING'\nconst TOGGLE_IS_FOLLOWING_PROGRESS = 'TOGGLE_IS_FOLLOWING_PROGRESS'\n\nlet initialState = {\n    users: [],\n    pageSize: 5,\n    totalUsersCount: 0,\n    currentPage: 1,\n    isFetching: false,\n    followingInProgress: []\n}\n\nconst usersReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case FOLLOW:\n            return {\n                ...state,\n                users: updateArrayObject(state.users, action.userId, 'id', {followed: true})\n                // users: state.users.map(u => {\n                //     if (u.id === action.userId) {\n                //         return {...u, followed: true}\n                //     }\n                //     return u\n                // })\n            }\n\n        case UNFOLLOW:\n            return {\n                ...state,\n                users:  updateArrayObject(state.users, action.userId, 'id', {followed: false})\n            }\n\n        case SET_USERS:\n            return {\n                ...state, users: action.users\n            }\n\n        case SET_CURRENT_PAGE:\n            return {\n                ...state, currentPage: action.currentPage\n            }\n\n        case SET_TOTAL_USERS_COUNT:\n            return {\n                ...state, totalUsersCount: action.count\n            }\n\n        case TOGGLE_IS_FETCHING:\n            return {\n                ...state, isFetching: action.isFetching\n            }\n\n        case TOGGLE_IS_FOLLOWING_PROGRESS:\n            return {\n                ...state,\n                followingInProgress: action.isFetching\n                    ? [...state.followingInProgress, action.userId]\n                    : state.followingInProgress.filter(id => id !== action.userId)\n            }\n\n        default:\n            return state\n    }\n}\n\nexport const followSuccess = (userId) => ({type: FOLLOW, userId})\nexport const unfollowSuccess = (userId) => ({type: UNFOLLOW, userId})\nexport const setUsers = (users) => ({type: SET_USERS, users})\nexport const setCurrentPage = (currentPage) => ({type: SET_CURRENT_PAGE, currentPage})\nexport const setTotalUsersCount = (totalUsersCount) => ({type: SET_TOTAL_USERS_COUNT, count: totalUsersCount})\nexport const toggleIsFetching = (isFetching) => ({type: TOGGLE_IS_FETCHING, isFetching})\nexport const toggleFollowingProgress = (isFetching, userId) => ({\n    type: TOGGLE_IS_FOLLOWING_PROGRESS,\n    isFetching,\n    userId\n})\n\nexport const requestUsers = (page, pageSize) => async (dispatch) => {\n    dispatch(toggleIsFetching(true))\n    dispatch(setCurrentPage(page))\n    let response = await usersAPI.getUsers(page, pageSize)\n    dispatch(toggleIsFetching(false))\n    dispatch(setUsers(response.data.items))\n    dispatch(setTotalUsersCount(response.data.totalCount))\n}\n\nconst followUnfollowFlow = async (dispatch, userId, apiMethod, actionCreator) => {\n    dispatch(toggleFollowingProgress(true, userId))\n    let response = await apiMethod(userId)\n    if (response.data.resultCode === 0) {\n        dispatch(actionCreator(userId))\n    }\n    dispatch(toggleFollowingProgress(false, userId))\n}\n\nexport const follow = (userId) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId,  usersAPI.follow.bind(usersAPI), followSuccess)\n}\n\nexport const unfollow = (userId) => async (dispatch) => {\n    await followUnfollowFlow(dispatch, userId, usersAPI.unfollow.bind(usersAPI), unfollowSuccess)\n}\n\nexport default usersReducer","export default __webpack_public_path__ + \"static/media/userImage.a6143582.png\";","import React, {useState} from \"react\";\r\nimport s from \"./Paginator.module.css\";\r\nimport cn from 'classnames'\r\n\r\nconst Paginator = ({totalItemsCount, pageSize, currentPage, onPageChanged, portionSize = 20}) => {\r\n    const pagesCount = Math.ceil(totalItemsCount / pageSize)\r\n\r\n    const pages = []\r\n    for (let i = 1; i <= pagesCount; i++) {\r\n        pages.push(i)\r\n    }\r\n\r\n    let portionCount = Math.ceil(pagesCount / portionSize)\r\n    let [portionNumber, setPortionNumber] = useState(1)\r\n    let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1\r\n    let rightPortionPageNumber = portionNumber * portionSize\r\n\r\n    return (\r\n        <div className={s.paginator}>\r\n            {\r\n                portionNumber > 1\r\n                && <button onClick={() => {\r\n                    setPortionNumber(portionNumber - 1)\r\n                }}>PREV</button>\r\n            }\r\n            {pages\r\n                .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n                .map((p) => {\r\n                    return <span className={ cn({[s.selectedPage]: currentPage === p}, s.pageNumber) }\r\n                        key={p}\r\n                        onClick={() => {\r\n                            onPageChanged(p)\r\n                        }}\r\n                    >{p}</span>\r\n                })}\r\n            {\r\n                portionCount > portionNumber\r\n                && <button onClick={() => {\r\n                    setPortionNumber(portionNumber + 1)\r\n                }}>NEXT</button>\r\n            }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Paginator\r\n\r\n","import s from \"./Users.module.css\";\r\nimport userImage from \"../../assets/img/userImage.png\";\r\nimport React from \"react\";\r\nimport {NavLink} from \"react-router-dom\";\r\nimport Paginator from \"../common/Paginator/Paginator\";\r\n\r\nlet Users = (props) => {\r\n    return <div className={s.usersPage}>\r\n        <Paginator\r\n            totalItemsCount={props.totalUsersCount}\r\n            pageSize={props.pageSize}\r\n            currentPage={props.currentPage}\r\n            onPageChanged={props.onPageChanged}\r\n            portionSize={20}\r\n        />\r\n\r\n        {\r\n            props.users.map(u => <div key={u.id}>\r\n                <div>\r\n                    <div>\r\n                        <NavLink to={'/profile/' + u.id}>\r\n                            <img src={u.photos.small !== null ? u.photos.small : userImage}\r\n                                 alt={'Users photo'}\r\n                                 className={s.avatar}/>\r\n                        </NavLink>\r\n                    </div>\r\n                    <div>\r\n                        {u.followed\r\n                            ? <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.unfollow(u.id)\r\n                                      }}>unfollow</button>\r\n                            : <button disabled={props.followingInProgress.some(id => id === u.id)}\r\n                                      onClick={() => {\r\n                                          props.follow(u.id)\r\n                                      }}>follow</button>}\r\n                    </div>\r\n                </div>\r\n                <div>\r\n                    <div>\r\n                        <div>{u.name}</div>\r\n                        <div>{u.status}</div>\r\n                    </div>\r\n                    <div>\r\n                        <div>{'u.location.city'}</div>\r\n                        <div>{'u.location.country'}</div>\r\n                    </div>\r\n                </div>\r\n            </div>)\r\n        }\r\n    </div>\r\n}\r\n\r\nexport default Users","import {createSelector} from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n    return state.usersPage.users\r\n}\r\n\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n    return users.filter(u => true)\r\n})\r\n\r\nexport const getPageSize = (state) => {\r\n    return state.usersPage.pageSize\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n    return state.usersPage.totalUsersCount\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n    return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n    return state.usersPage.isFetching\r\n}\r\n\r\nexport const getFollowingInProgress = (state) => {\r\n    return state.usersPage.followingInProgress\r\n}","import React from 'react'\r\nimport {connect} from \"react-redux\"\r\nimport {\r\n    setCurrentPage,\r\n    toggleFollowingProgress,\r\n    follow,\r\n    unfollow,\r\n    requestUsers\r\n} from \"../../redux/users-reducer\"\r\nimport Users from \"./Users\"\r\nimport Preloader from \"../common/Preloader/Preloader\";\r\nimport {compose} from \"redux\";\r\nimport {\r\n    getCurrentPage,\r\n    getFollowingInProgress,\r\n    getIsFetching,\r\n    getPageSize,\r\n    getTotalUsersCount,\r\n    getUsers\r\n} from \"../../redux/users-selectors\";\r\n\r\nclass UsersContainer extends React.Component {\r\n    componentDidMount() {\r\n        this.props.requestUsers(this.props.currentPage, this.props.pageSize)\r\n    }\r\n\r\n    onPageChanged = (pageNumber) => {\r\n        this.props.requestUsers(pageNumber, this.props.pageSize)\r\n    }\r\n\r\n    render() {\r\n        return <>\r\n            {this.props.isFetching ? <Preloader/> : null}\r\n            <Users\r\n                totalUsersCount={this.props.totalUsersCount}\r\n                pageSize={this.props.pageSize}\r\n                currentPage={this.props.currentPage}\r\n                onPageChanged={this.onPageChanged}\r\n                users={this.props.users}\r\n                unfollow={this.props.unfollow}\r\n                follow={this.props.follow}\r\n                followingInProgress={this.props.followingInProgress}\r\n            />\r\n        </>\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        users: getUsers(state),\r\n        pageSize: getPageSize(state),\r\n        totalUsersCount: getTotalUsersCount(state),\r\n        currentPage: getCurrentPage(state),\r\n        isFetching: getIsFetching(state),\r\n        followingInProgress: getFollowingInProgress(state)\r\n    }\r\n}\r\n\r\nexport default compose(\r\n    connect(mapStateToProps, {\r\n        setCurrentPage, toggleFollowingProgress, requestUsers, follow, unfollow\r\n    })\r\n)(UsersContainer)\r\n","import React from \"react\";\r\nimport s from './Header.module.css';\r\nimport {NavLink} from \"react-router-dom\";\r\n\r\nconst Header = (props) => {\r\n    return <header className={s.header}>\r\n            <div className={s.headerInfo}>\r\n                <img src={'https://upload.wikimedia.org/wikipedia/commons/thumb/5/54/American_Broadcasting_Company_Logo.svg/767px-American_Broadcasting_Company_Logo.svg.png'} alt={'logo'}/>\r\n\r\n                <div className={s.loginBlock}>\r\n                    { props.isAuth\r\n                        ? <div> {props.login}  <button onClick={props.logout}>Logout</button></div>\r\n                        : <NavLink to={'/login'}>Login</NavLink>}\r\n                </div>\r\n            </div>\r\n        </header>\r\n}\r\n\r\nexport default Header;","import {authAPI} from \"../api/api\";\nimport {stopSubmit} from \"redux-form\";\n\nconst SET_USER_DATA = 'social-network/auth/SET_USER_DATA'\n\nlet initialState = {\n    userId: null,\n    email: null,\n    login: null,\n    isAuth: false,\n    isFetching: false\n}\n\nconst authReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case SET_USER_DATA:\n            return {\n                ...state,\n                ...action.payload\n            }\n\n        default:\n            return state\n    }\n}\nexport const setAuthUserData = (userId, email, login, isAuth) =>\n    ({type: SET_USER_DATA, payload: {userId, email, login, isAuth}})\n\nexport const getAuthUserData = () => async (dispatch) => {\n    let response = await authAPI.me()\n    if (response.data.resultCode === 0) {\n        let {id, email, login} = response.data.data\n        dispatch(setAuthUserData(id, email, login, true))\n    }\n}\n\nexport const login = (email, password, rememberMe) => async (dispatch) => {\n    let response = await authAPI.login(email, password, rememberMe)\n    if (response.data.resultCode === 0) {\n        dispatch(getAuthUserData())\n    } else {\n        let message = response.data.messages.length > 0 ? response.data.messages[0] : 'some Error'\n        dispatch(stopSubmit('login', {_error: message}))\n    }\n}\n\nexport const logout = () => async (dispatch) => {\n    let response = await authAPI.logout()\n    if (response.data.resultCode === 0) {\n        dispatch(setAuthUserData(null, null, null, false))\n    }\n}\n\nexport default authReducer","import React from \"react\";\r\nimport {connect} from \"react-redux\"\r\nimport Header from \"./Header\";\r\nimport {logout} from \"../../redux/auth-reducer\";\r\n\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props}/>\r\n    }\r\n}\r\nconst mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {logout})(HeaderContainer)","import React from \"react\"\r\nimport {Field, reduxForm} from \"redux-form\";\r\nimport {Input} from \"../common/FormsControls/FormsControls\";\r\nimport {maxLengthCreator, required} from \"../../utilities/validators/validators\";\r\nimport {connect} from \"react-redux\";\r\nimport {login} from \"../../redux/auth-reducer\";\r\nimport {Redirect} from \"react-router-dom\";\r\nimport s from '../common/FormsControls/FormsControls.module.css'\r\n\r\nconst maxLength25 = maxLengthCreator(25)\r\n\r\n// Пример деструктуризации с handleSubmit и error\r\nconst LoginForm = ({handleSubmit, error}) => {\r\n    return (\r\n        <form onSubmit={handleSubmit}>\r\n            <div>\r\n                <Field\r\n                    placeholder={'Email'}\r\n                    name={'email'}\r\n                    component={Input}\r\n                    validate={[required, maxLength25]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    placeholder={'password'}\r\n                    name={'password'}\r\n                    component={Input}\r\n                    type={'password'}\r\n                    validate={[required, maxLength25]}\r\n                />\r\n            </div>\r\n            <div>\r\n                <Field\r\n                    type={'checkbox'}\r\n                    name={'rememberMe'}\r\n                    component={Input}\r\n                /> remember me\r\n            </div>\r\n            {error && <div className={s.formSummaryError}>\r\n                {error}\r\n            </div>}\r\n            <div>\r\n                <button>Login</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nconst LoginReduxForm = reduxForm({form: 'login'})(LoginForm)\r\n\r\nconst LoginPage = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe)\r\n    }\r\n\r\n    if (props.isAuth) {\r\n        return <Redirect to={'/profile'}/>\r\n    }\r\n\r\n    return <div>\r\n        <h1>Login</h1>\r\n        <LoginReduxForm onSubmit={onSubmit}/>\r\n    </div>\r\n\r\n}\r\n\r\nlet mapStateToProps = (state) => ({isAuth: state.auth.isAuth})\r\n\r\nexport default connect(mapStateToProps, {login})(LoginPage)","import {getAuthUserData} from \"./auth-reducer\";\n\nconst INITIALIZED_SUCCESS = 'INITIALIZED_SUCCESS'\n\nlet initialState = {\n    initialized: false\n}\n\nconst appReducer = (state = initialState, action) => {\n    switch (action.type) {\n        case INITIALIZED_SUCCESS:\n            return {\n                ...state,\n                initialized: true\n            }\n\n        default:\n            return state\n    }\n}\nexport const initializedSuccess = () => ({type: INITIALIZED_SUCCESS})\n\nexport const initializeApp = () => (dispatch) => {\n    let promise = dispatch(getAuthUserData())\n    Promise.all([promise])\n        .then(() => {\n        dispatch(initializedSuccess())\n    })\n}\n\nexport default appReducer","let initialState = {}\r\n\r\nconst sidebarReducer = (state = initialState, action) => {\r\n\r\n\r\n    return state\r\n}\r\n\r\nexport default sidebarReducer","import {applyMiddleware, combineReducers, compose, createStore} from \"redux\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport sidebarReducer from \"./sidebar-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMiddleware from 'redux-thunk'\r\nimport { reducer as formReducer } from 'redux-form'\r\nimport appReducer from \"./app-reducer\";\r\n\r\nlet reducers = combineReducers({\r\n    profilePage : profileReducer,\r\n    dialogsPage : dialogsReducer,\r\n    sidebar : sidebarReducer,\r\n    usersPage: usersReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer\r\n})\r\n\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers,  composeEnhancers(applyMiddleware(thunkMiddleware)));\r\nwindow.__store__ = store\r\n\r\nexport default store","import React, {Suspense} from \"react\";\r\nimport Preloader from \"../components/common/Preloader/Preloader\";\r\n\r\nexport const withSuspense = (Component) => {\r\n    return (props) => {\r\n        return <Suspense fallback={<Preloader />}><Component {...props} /></Suspense>\r\n    }\r\n}","import './App.css'\nimport React from \"react\"\nimport Navbar from \"./components/Navbar/Navbar\"\nimport {BrowserRouter, Route, withRouter} from \"react-router-dom\"\nimport UsersContainer from \"./components/Users/UsersContainer\";\nimport HeaderContainer from \"./components/Header/HeaderContainer\";\nimport LoginPage from \"./components/LoginPage/LoginPage\";\nimport {connect, Provider} from \"react-redux\";\nimport {compose} from \"redux\";\nimport {initializeApp} from \"./redux/app-reducer\";\nimport Preloader from \"./components/common/Preloader/Preloader\";\nimport store from \"./redux/store\";\nimport {withSuspense} from \"./hoc/withSuspense\";\n\nconst DialogsContainer = React.lazy(() => import('./components/Dialogs/DialogsContainer'));\nconst ProfileContainer = React.lazy(() => import('./components/Profile/ProfileContainer'));\n\nclass App extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp()\n    }\n\n    render() {\n        if (!this.props.initialized) {\n            return <Preloader/>\n        }\n\n        return (\n            <div className=\"app\">\n                <HeaderContainer/>\n                <Navbar/>\n                <div className=\"app-content\">\n                    <Route path={'/profile/:userId?'} render={withSuspense(ProfileContainer)}/>\n                    <Route path={'/dialogs'} render={withSuspense(DialogsContainer)}/>\n                <Route path={'/users'} render={() =>\n                        <UsersContainer/>}/>\n                    <Route path={'/login'} render={() =>\n                        <LoginPage/>}/>\n                </div>\n            </div>\n        );\n    }\n}\n\nconst mapStateToProps = (state) => ({\n    initialized: state.app.initialized\n})\n\nconst AppContainer = compose(\n    withRouter,\n    connect(mapStateToProps, {initializeApp})\n)(App)\n\nconst SamuraiJSApp = (props) => {\n    return (\n        <BrowserRouter>\n            <Provider store={store}>\n                <AppContainer/>\n            </Provider>\n        </BrowserRouter>\n    )\n}\n\nexport default SamuraiJSApp\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport './index.css'\nimport SamuraiJSApp from './App'\n\n\nReactDOM.render(<SamuraiJSApp />, document.getElementById('root'))\n\n\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"formControl\":\"FormsControls_formControl__34izm\",\"error\":\"FormsControls_error__2aTXi\",\"formSummaryError\":\"FormsControls_formSummaryError__1XRE6\"};","export default __webpack_public_path__ + \"static/media/UsersPagePreloader.7be6da5c.svg\";","import loader from \"../../../assets/img/UsersPagePreloader.svg\";\r\nimport React from \"react\";\r\nimport s from './Preloader.module.css'\r\n\r\nconst Preloader = (props) => {\r\n    return <img src={loader} alt={'Image: preload image'} className={s.preloader}/>\r\n}\r\n\r\nexport default Preloader","import React from \"react\";\r\nimport s from './FormsControls.module.css'\r\n\r\nexport const Textarea = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <textarea {...input} {...props} />\r\n            </div>\r\n            { hasError && <span> {meta.error} </span> }\r\n        </div>\r\n    )\r\n}\r\n\r\nexport const Input = ({input, meta, ...props}) => {\r\n    const hasError = meta.touched && meta.error\r\n\r\n    return (\r\n        <div className={s.formControl + ' ' + (hasError ? s.error : '')}>\r\n            <div>\r\n                <input {...input} {...props} />\r\n            </div>\r\n            { hasError && <span> {meta.error} </span> }\r\n        </div>\r\n    )\r\n}","export const required = value => {\r\n    if (value) return undefined\r\n    return 'Field is required'\r\n\r\n}\r\n\r\nexport const maxLengthCreator = (maxLength) => value => {\r\n    if (value.length > maxLength) return `Max length is ${maxLength} symbols`\r\n    return undefined\r\n}","// extracted by mini-css-extract-plugin\nmodule.exports = {\"paginator\":\"Paginator_paginator__PNJ2h\",\"pageNumber\":\"Paginator_pageNumber__acRXu\",\"selectedPage\":\"Paginator_selectedPage__2j94q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__-nlEw\",\"loginBlock\":\"Header_loginBlock__3M2S3\",\"headerInfo\":\"Header_headerInfo__26o4A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"avatar\":\"Users_avatar__2S_iY\",\"usersPage\":\"Users_usersPage__30gVz\"};","import {profileAPI, usersAPI} from \"../api/api\";\r\n\r\nconst ADD_POST = 'ADD-POST'\r\nconst SET_USER_PROFILE = 'SET_USER_PROFILE'\r\nconst SET_STATUS = 'SET_STATUS'\r\nconst DELETE_POST = 'DELETE_POST'\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {id: 1, message: 'Hi, how are you?', likesCount: '10'},\r\n        {id: 2, message: 'It\\'s my first post', likesCount: '23'}\r\n    ],\r\n    profile: null,\r\n    status: ''\r\n}\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch (action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: 5,\r\n                message: action.newPostElement,\r\n                likesCount: 0\r\n            }\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            }\r\n        }\r\n        case DELETE_POST: {\r\n            return { ...state, posts: state.posts.filter(p => p.id !== action.postId),\r\n            }\r\n        }\r\n        case SET_USER_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile\r\n            }\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status\r\n            }\r\n        }\r\n        default:\r\n            return state\r\n    }\r\n}\r\n\r\nexport const addPost = (newPostElement) => ({type: ADD_POST, newPostElement})\r\nexport const deletePost = (postId) => ({type: DELETE_POST, postId})\r\nexport const setUserProfile = (profile) => ({type: SET_USER_PROFILE, profile})\r\nexport const setStatus = (status) => ({type: SET_STATUS, status})\r\n\r\nexport const getUserProfile = (userId) => async (dispatch) => {\r\n    let response = await usersAPI.getProfile(userId)\r\n            dispatch(setUserProfile(response.data))\r\n}\r\n\r\nexport const getStatus = (userId) => async (dispatch) => {\r\n    let response = await profileAPI.getStatus(userId)\r\n            dispatch(setStatus(response.data))\r\n}\r\n\r\nexport const updateStatus = (status) => async (dispatch) => {\r\n    let response = await profileAPI.updateStatus(status)\r\n            if (response.data.resultCode === 0) {\r\n                dispatch(setStatus(status))\r\n            }\r\n}\r\n\r\nexport default profileReducer"],"sourceRoot":""}